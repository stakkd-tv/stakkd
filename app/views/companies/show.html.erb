<% content_for :title, "Stakkd - #{@company.name}" %>

<div class="max-w-7xl mx-auto my-8 px-6 pt-10">
  <div class="grid grid-cols-4 gap-8 min-h-screen">
    <div class="col-span-1 bg-background-darker rounded-lg p-4 flex flex-col gap-10">
      <%= image_tag @company.logo, class: "w-full rounded-lg" %>
      <% if @company.name.present? %>
        <div>
          <p class="font-domine"><b>Name:</b></p>
          <p><%= @company.name %></p>
        </div>
      <% end %>
      <div class="flex gap-4 flex-col">
        <%= link_to "Edit", edit_company_path(@company), class: "link" %>
        <% if @company.homepage.present? %>
          <%= link_to @company.homepage, class: "link link-flex justify-center w-full" do %>
            <i class="fa-solid fa-globe text-2xl"></i>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="col-span-3 flex flex-col gap-10">
      <h3 class="text-4xl font-bold font-domine text-white mt-4">
        <i class="fa-solid fa-person text-4xl mr-6"></i>
        <%= @company.name %>
      </h3>
      <% if @company.description.present? %>
        <div class="relative">
          <input type="checkbox" class="hidden peer" id="read-more" autocomplete="off">
          <label for="read-more" class="cursor-pointer absolute right-0 bottom-0 w-full text-right bg-gradient-to-l from-background to-transparent peer-checked:hidden">Read more</label>
          <div class="h-[7.5rem] leading-[1.5rem] peer-checked:h-auto flex flex-col gap-2 overflow-hidden">
            <%= simple_format @company.description %>
          </div>
        </div>
      <% end %>
      <% if @company.logos.any? %>
        <div>
          <h4 class="text-2xl font-bold font-domine text-white mt-4 mb-4">Logos:</h4>
          <div class="w-full flex gap-8 overflow-x-scroll no-scrollbar">
            <% @company.logos.each do |logo| %>
              <div class="min-w-40 max-w-40 aspect-square border border-pop rounded-lg overflow-hidden">
                <%= image_tag logo, class: "w-full" %>
              </div>
            <% end %>
          </div>
          <% if authenticated? %>
            <small class="block pt-4"><b>TIP: Double click an image to like it.</b></small>
          <% end %>
        </div>
      <% end %>
      <div class="w-full h-44 border border-pop rounded-lg flex justify-center items-center">
        This is a work in progress. Please check back later.
      </div>
    </div>
  </div>
</div>
